"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[560],{60363:function(e,t,n){n.d(t,{Ee:function(){return i},al:function(){return a},dn:function(){return r}});let r="lyftbusiness_attribution",a="lyftbusiness_attribution_updated",i="lyftbusiness_attribution_unfixed"},17217:function(e,t,n){n.d(t,{r:function(){return a}});var r,a,i=n(85893);n(67294);var o=n(8140),s=n(79637);function l({label:e,isRequired:t=!1,type:n,value:r,inputId:a,handleChange:s,name:l,isPardotForm:c}){let u=e=>{s(a,e.target.value)};switch(n){case"Email":return(0,i.jsx)(o.pt9,{name:l,value:r,placeholder:e,required:t,type:"email",fullWidth:!0,onChange:u,brandThemed:!0});case"Phone":return(0,i.jsx)(o.Nnc,{name:l,value:r,placeholder:e,required:t,fullWidth:!0,onChange:u,brandThemed:!0});case"Text Area":return(0,i.jsx)(o.GP8,{name:l,value:r,placeholder:e,required:t,fullWidth:!0,onChange:u,brandThemed:!0});case"ZIP Code":return(0,i.jsx)(o.vYI,{name:l,value:r,placeholder:e,required:t,fullWidth:!0,onChange:u,brandThemed:!0});case"Date":return(0,i.jsx)(o.cKX,{name:l,value:r,placeholder:e,required:t,fullWidth:!0,onChange:u,format:c?"YYYYMMDD":"Default",brandThemed:!0});default:return(0,i.jsx)(o.pt9,{name:l,value:r,placeholder:e,required:t,type:"text",fullWidth:!0,onChange:u,brandThemed:!0})}}(r=a||(a={})).PLAIN_TEXT="Plain Text",r.EMAIL="Email",r.PHONE="Phone",r.TEXT_AREA="Text Area",r.ZIP_CODE="ZIP Code",r.DATE="Date",l.description="Text input used within forms",t.Z=function({header:e,textColor:t,...n}){return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{content:e,textColor:t}),(0,i.jsx)(o.QIJ,{vertical:!0,unit:"one"})]}),(0,i.jsx)(l,{...n}),(0,i.jsx)(o.QIJ,{vertical:!0,unit:"one"})]})}},99647:function(e,t,n){var r,a,i,o;n.d(t,{E:function(){return a},T:function(){return r}}),(i=r||(r={})).INPUT_TEXT="InputText",i.INPUT_CHECKBOX="InputCheckbox",i.INPUT_MULTIPLE_CHECKBOX="InputMultipleCheckbox",i.INPUT_DROPDOWN="InputDropdown",(o=a||(a={})).ONE="1",o.TWO="2"},30560:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(85893),a=n(67294),i=n(19521),o=n(8140),s=n(79637),l=n(86367),c=n(58895),u=n(61244),d=n(99647),h=n(84930);function m({options:e,value:t,inputId:n,handleChange:i,header:s,placeholder:l,hasError:c,name:u,textColor:d,isRequired:m}){let{customFormMessages:p}=(0,a.useContext)(h.F),{dropdownInputErrorMessage:x}=p,f=(0,a.useMemo)(()=>e.split("\n").map((e,t)=>({value:t+1,label:e})),[e]),T=f.findIndex(e=>e.label===t);return(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.aXT,{tagName:"h3",textStyle:"titleW2",color:d,children:s}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"one"})]}),c&&(0,r.jsx)(o.aXT,{textStyle:"bodyW2",color:"textNegative",children:x}),(0,r.jsx)(o.YeK,{placeholder:l,name:u,options:f,onSelectItem:e=>{e&&i(n,e.label)},selectedIndex:T,fullWidth:!0,brandThemed:!0,required:m}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"one"})]})}m.description="Checkbox used within forms";let p=i.ZP.div.withConfig({componentId:"sc-80e0971b-0"})(["input{background-color:",";}"],o.k1m.alwaysWhite.color);function x({label:e,isRequired:t,value:n,inputId:a,name:i,handleChange:s}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{children:(0,r.jsx)(o.L9D,{checked:n,label:e,required:t,name:i,onChange:e=>{s(a,e.target.checked)},brandThemed:!0})}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"one"})]})}function f({options:e,value:t,inputId:n,handleChange:i,header:l,subheader:c,hasError:u,name:d,textColor:m}){let{customFormMessages:x}=(0,a.useContext)(h.F),{multiCheckboxInputErrorMessage:f}=x,T=(0,a.useMemo)(()=>e.split("\n"),[e]),g=(e,r)=>{let a=e.target.checked;i(n,t.map((e,t)=>t===r?a:e))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.aXT,{tagName:"h3",textStyle:"titleW2",color:m,children:l}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"one"}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{content:c,textColor:m}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"one"})]}),u&&(0,r.jsx)(o.aXT,{textStyle:"bodyW2",color:"textNegative",children:f}),T.map((e,n)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(o.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(p,{children:(0,r.jsx)(o.L9D,{checked:t[n],label:e,name:d,onChange:e=>g(e,n)})}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(o.fy7,{type:"item"})]},e)),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"one"})]})}x.description="Checkbox used within forms",f.description="Checkbox used within forms";var T=n(17217);let g=i.ZP.div.withConfig({componentId:"sc-f4c679dc-0"})(["width:100%;@media screen and (min-width:","px){width:",";}"],o.hY$.m,e=>e.fullWidth?"100%":`calc(50% - ${o.wag.one}px)`),j=i.ZP.div.withConfig({componentId:"sc-f4c679dc-1"})(["width:100%;"]);var v=function(e){switch(e.componentType){case d.T.INPUT_CHECKBOX:return(0,r.jsx)(j,{children:(0,r.jsx)(x,{...e})});case d.T.INPUT_MULTIPLE_CHECKBOX:return(0,r.jsx)(j,{children:(0,r.jsx)(f,{...e})});case d.T.INPUT_TEXT:return(0,r.jsx)(g,{fullWidth:e.numberOfColumns===d.E.ONE,children:(0,r.jsx)(T.Z,{...e})});case d.T.INPUT_DROPDOWN:return(0,r.jsx)(g,{fullWidth:e.numberOfColumns===d.E.ONE,children:(0,r.jsx)(m,{...e})});default:return null}};let b=i.ZP.div.withConfig({componentId:"sc-550a7557-0"})(["display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between;"]);var w=function({inputs:e,numberOfColumns:t,handleChange:n,textColor:i,isPardotForm:s}){let l=function(e){let t=0,n=[[]];return e.forEach(e=>{e.componentType===d.T.INPUT_CHECKBOX||e.componentType===d.T.INPUT_MULTIPLE_CHECKBOX?(n.push([e]),n.push([]),t+=2):"header"in e?(n.push([e]),t+=1):n[t].push(e)}),n.filter(e=>e.length>0)}(e),c=-1;return(0,r.jsx)(r.Fragment,{children:l.map((e,u)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{children:e.map(e=>(c+=1,(0,a.createElement)(v,{...e,numberOfColumns:t,inputId:c,handleChange:n,key:c,isPardotForm:s,textColor:i})))}),u!==l.length-1&&(0,r.jsx)(o.QIJ,{vertical:!0,unit:"four"})]}))})},C=n(18383),I=n(55466),P=n(24453),_=n(57632);function y(e){switch(e.componentType){case d.T.INPUT_CHECKBOX:return{question:e.label,answer:String(e.value)};case d.T.INPUT_MULTIPLE_CHECKBOX:return e.options.split("\n").map((t,n)=>({question:`${e.header??""} - ${e.subheader??""} - ${t}`,answer:String(e.value[n])}));case d.T.INPUT_TEXT:return{question:`${e.header??""} - ${e.label??""}`,answer:e.value};case d.T.INPUT_DROPDOWN:return{question:`${e.header??""} - ${e.placeholder??""}`,answer:e.value};default:return{}}}async function E(e,t){let n={eventName:"www_custom_form_submission",form_id:t,response_id:(0,_.Z)(),timestamp:Date.now()},r=e.flatMap(y).map((e,t)=>({...e,...n,question_id:String(t)})).map(e=>P.fQ.send(e));if((await Promise.all(r.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))).some(e=>"rejected"===e.status))throw Error("Form not submitted successfully")}var N=function(e){let[t,n]=(0,a.useState)(!1);return[()=>{t||(n(!0),P.fQ.send({eventName:"www_btn_click",category:"brandfe_custom_form",action:"start",value:e}))},()=>{P.fQ.send({eventName:"www_btn_click",category:"brandfe_custom_form",action:"submit",value:e})}]},O=n(48316);let k=(0,C.jl)({name:"Form.useForm"});function U(e){switch(e.componentType){case d.T.INPUT_MULTIPLE_CHECKBOX:return e.value.some(Boolean);case d.T.INPUT_DROPDOWN:return""!==e.value;case d.T.INPUT_TEXT:case d.T.INPUT_CHECKBOX:default:return!0}}function Z(e){switch(e.componentType){case d.T.INPUT_CHECKBOX:return{...e,value:!1};case d.T.INPUT_MULTIPLE_CHECKBOX:return{...e,value:e.options.split("\n").map(()=>!1),hasError:!1};case d.T.INPUT_DROPDOWN:return{...e,value:"",hasError:!1};case d.T.INPUT_TEXT:default:return{...e,value:""}}}var W=(e,{formId:t,pardotFormHandler:n,successSubmitRedirectLocation:r})=>{let[i,o]=(0,a.useState)(()=>e.map(Z)),[s,l]=N(t),[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)({message:void 0,color:void 0}),{customFormMessages:p}=(0,a.useContext)(h.F),{successMessage:x,submitErrorMessage:f,validationErrorMessage:T}=p,g=(0,a.useCallback)((e,t)=>{s(),m({message:void 0,color:void 0}),o(n=>n.map((n,r)=>r===e?{...n,value:t,hasError:!!n.isRequired&&!U({...n,value:t})}:n))},[s]),j=async a=>{a.preventDefault();let s=i.map(e=>({...e,hasError:!!e.isRequired&&!U(e)}));if(s.some(e=>e.hasError)){o(s),m({message:T,color:"textNegative"});return}let c=n?"pardot":"lyft";try{u(!0);let a="pardot"===c?(0,O.ZP)(i,n,c):E(i,t);await a,l(),I.Z.incr("brand.custom-form.submit.success",1,{form_type:c}),o(e.map(Z)),m({message:x,color:"pardot"===c?"alwaysBlack":"textPositive"}),r&&(window.location.href=r)}catch(e){I.Z.incr("brand.custom-form.submit.failed",1,{form_type:c}),k.debug(`Form was not submitted: ${e.message}`),m({message:f,color:"textNegative"})}finally{u(!1)}};return{inputs:i,handleChange:g,handleSubmit:j,isSubmitting:c,submitStatusMessage:d}};let X=i.ZP.div.withConfig({componentId:"sc-b3578f7d-0"})(["width:100%;"]),F=i.ZP.div.withConfig({componentId:"sc-b3578f7d-1"})(["display:flex;flex-direction:column;@media screen and (min-width:","px){flex-direction:row;justify-content:space-between;}"],o.hY$.m),D=(0,i.ZP)(u.ZP).withConfig({componentId:"sc-b3578f7d-2"})(["display:none;object-fit:contain;object-position:top;height:auto;width:calc(50% - ","px);@media screen and (min-width:","px){display:block;}"],o.wag.two,o.hY$.m),M=i.ZP.img.withConfig({componentId:"sc-b3578f7d-3"})(["display:block;object-fit:contain;object-position:top;width:100%;@media screen and (min-width:","px){display:none;}"],o.hY$.m),J=i.ZP.span.withConfig({componentId:"sc-b3578f7d-4"})(["display:block;min-width:calc(224px - 2 * ","px);"],o.wag.three);function Q({description:e,header:t,legalText:n,useGreyBackground:a,formId:i,inputs:u,buttonText:h,numberOfColumns:m=d.E.ONE,image:p,displayName:x,pardotFormHandler:f,backgroundColor:T,textColor:g,interactiveColor:j,successSubmitRedirectLocation:v}){let{inputs:b,handleChange:C,handleSubmit:I,isSubmitting:P,submitStatusMessage:_}=W(u,{formId:i,pardotFormHandler:f,successSubmitRedirectLocation:v}),y=(null==p?void 0:p.src)!=null,E=y||m===d.E.TWO,N=!y&&m===d.E.TWO,O=(null==p?void 0:p.src)?{unit:"four",unitM:"six"}:"header"in u[0]?{unit:"three",unitM:"four"}:{unit:"two",unitM:"three"};return(0,r.jsx)(c.ZP,{referenceId:i,useGreyBackground:a,trackingAction:"view",trackingCategory:"Form",trackingLabel:x,backgroundColor:T,children:(0,r.jsxs)(l.Z,{colsM:E?10:5,children:[t&&(0,r.jsx)(o.aXT,{tagName:"h2",textStyle:"headlineW1",color:g,children:t}),t&&e&&(0,r.jsx)(o.QIJ,{vertical:!0,unit:"two",unitM:"three"}),e&&(0,r.jsx)(s.Z,{content:e,textColor:g}),(t||e)&&(0,r.jsx)(o.QIJ,{vertical:!0,unit:O.unit,unitM:O.unitM}),(0,r.jsxs)("form",{onSubmit:I,children:[(0,r.jsxs)(F,{children:[(null==p?void 0:p.src)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M,{src:p.src,alt:p.alt,loading:"lazy"}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"three",unitM:"zero"})]}),(0,r.jsx)(o.xh0,{interactiveColor:j||"brandInteractive",children:(0,r.jsx)(X,{children:(0,r.jsx)(w,{inputs:b,numberOfColumns:N?d.E.TWO:d.E.ONE,handleChange:C,textColor:g,isPardotForm:!!f})})}),(null==p?void 0:p.src)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.QIJ,{horizontal:!0,unit:"zero",unitM:"four"}),(0,r.jsx)(D,{src:p.src,alt:p.alt,loading:"lazy",height:p.height,width:p.width})]})]}),(0,r.jsx)(o.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(o.uBP,{buttonStyle:"primary",type:"submit",processing:P,"data-tracking-category":"Form primary button","data-tracking-action":"click","data-tracking-label":x,"data-tracking-value":h,children:(0,r.jsx)(J,{children:h})}),(null==_?void 0:_.message)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.QIJ,{vertical:!0,unit:"one",unitM:"two"}),(0,r.jsx)(o.aXT,{textStyle:"bodyW2",color:_.color,children:_.message})]})]}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(s.Z,{content:n,textStyleOverride:"legalW1",textColor:g})]})]})})}Q.description="A form used to collect user information";var S=Q},48316:function(e,t,n){n.d(t,{s9:function(){return d}});var r=n(40975),a=n.n(r),i=n(526),o=n(60363),s=n(99202),l=n(17217),c=n(99647);let u=(e,t)=>e.reduce((e,t)=>(t.name&&(t.componentType===c.T.INPUT_TEXT&&t.type===l.r.PHONE?e[t.name]=(0,s.jc)(t.value):e[t.name]=t.value),e),t),d="/api/pagelauncher/form_submission",h=async(e,t,n)=>{let r=new(a()),s=u(e,JSON.parse(r.get(o.dn)||"{}")),l=u(e,JSON.parse(r.get(o.al)||"{}"));return await i.ZP.post(d,{data:{url:t,formType:n,data:{Source_Page_URL:`${window.location.origin}${window.location.pathname}`,...l,...s}},snakeCaseRequest:!1})};t.ZP=h},99202:function(e,t,n){n.d(t,{jc:function(){return i},rJ:function(){return o},un:function(){return r}});let r=e=>{let t=`${e}`.replace(/\D/g,""),n=/^(1|)?(\d{3})(\d{3})(\d{4})$/.exec(t);return n?["(",n[2],") ",n[3],"-",n[4]].join(""):e},a=/[^0-9]/g,i=e=>e.replace(a,""),o=e=>`+${e.countryCode}${e.value}`}}]);